<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>AUCA Contract | User account</title>
        <link href="studentStyles.css" rel="stylesheet" type="text/css"/>
        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
                font-family: sans-serif;
            }

            body,
            .sign-container{
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            /** AUTHENTICATION ERROR MESSAGE*/

            .fatal {
                padding: 6px 10px;
                width: 100%;
                background-color: #ff9999;
                border-radius: 5px;
                margin: 20px 0;
                color: #ff0000;
                font-size: 80%;
                display: block;
            } 

            .error {
                padding: 6px 10px;
                width: 100%;
                background-color: #fff0e1;
                border-radius: 5px;
                margin: 20px 0;
                color: #ff9933;
                font-size: 80%;
                display: block;
            } 

            .info {
                padding: 6px 10px;
                width: 100%;
                background-color: rgb(204, 255, 204);
                border-radius: 5px;
                margin: 20px 0;
                color: green;
                font-size: 80%;
                display: block;
            } 

            /*SIGNIN AND SIGNUP FORMS*/
            .signup-signin-body {
                background: url("./005-G3.jpg");
                background-repeat: no-repeat;
                background-size: cover;
                position: relative;
                height: 100%;
                overflow: visible;
            }

            .sign-container {
                background-color: rgba(0, 0, 0, 0.5);
                width: 100%;
                height: 100%;
             }

            .signup-form,
            .signin-form {
                padding: 50px;
                background-color: white;
                margin: 120px 0;
            }


            /*STYLES OF H1s ON ALL FORMS*/
            .headerOnForm {
                text-align: center;
                margin: 0 0 20px;
            }

            /*STYLES OF ALL SUBMIT BUTTONS USED ON THE LOGIN, SIGNUP,...*/
            input[type="submit"] {
                background-color: black;
                color:white;
                border: none;
                padding: 8px 16px;
                font-weight: 600;
                margin: 20px 0;
                width: 100%;
            }

            input[type="submit"]:hover {
                background-color: orange;
                color:black;
            }

            /*STYLES OF INPUT FIELDS ON FORMS*/
            input[type="text"],
            input[type="password"], 
            select {
                padding: 5px 10px;
            }

            /*STYLES OF BELLOW MESSAGES*/
            .text-messages-auth {
                text-align: center;
            }

            /*STYLES OF LINKS*/
            a {
                text-decoration:none;
                color: #004080;
            }

            a:hover {
                color: brown;
            }

            /*STYLES FOR THE DATE STYLE OF THE FORM*/
            td {
                padding: 10px 5px;
            }


            /*STYLES OF THE CONTRACT*/
            .top-navigation-bar, 
            .logo,
            .navigationForm,
            .username {
                display: flex;
                flex-direction: row;
                align-items: center;
            }

            .top-navigation-bar {
                background-color: #004080;
                padding: 2px 0;
                color:white;
                width: 100%;
                justify-content: space-around;
            }

            .logo,
            .navigationForm,
            .username {
                justify-content: space-between;
            }

            .go-home-link {
                color: white;
            }

            .go-home-link:hover {
                color: white;
                padding: 7px 0;
                border-bottom: 2px solid white;
            }

            .navigationForm {
                width: 30%;
            }

            .navigationForm input[type="submit"] {
                width: 140px;
                background-color: white;
                color: #004080;
                background-color: none;
                border: none;
            }

            .navigationForm input[type="submit"]:hover {
                background-color: brown;
                color: white;
            }

            .logo img {
                width: 50px;
            }

            .username img {
                width: 40px;
            }

            .logo img,
            .username img,
            .go-home-link, 
            .navigationForm:nth-child(2){
                margin-right: 10px;
            }

            /*STYLES FOR DETAILS IN THE CONTAINER OF EVERY PAGE */
            .page-title {
                font-size: 300%;
                text-align: center;
                margin: 40px 0 40px;
            }

            h2 {
                margin-bottom: 60px;
            }

            /*STYLES FOR THE STUDENT TABLE*/
            .displayTable1 {
                border-collapse: collapse;
                font-size: 0.9em;
                font-family: sans-serif;
                min-width: 400px;
            }

            .displayTable1 thead tr {
                background-color: #0087ee;
                color: #ffffff;
                text-align: left;
            }

            .displayTable1 th,
            .displayTable1 td {
                padding: 12px 15px;
            }

            .displayTable1 tbody tr {
                border-bottom: 1px solid #dddddd;
            }

            .displayTable1 tbody tr:nth-of-type(even) {
                background-color: #f3f3f3;
                padding: 6px 7px;
            }

            .displayTable1 tbody tr:last-of-type {
                border-bottom: 2px solid #0087ee;
            }
        </style>
    </h:head>
    <h:body>
        <nav class="top-navigation-bar">
            <div class="logo">
                <img src="cropped-AUCA-logo-wide-webblue-2-1-34.png" alt="Auca Logo"/>
                <h1>AUCA Contract</h1>
            </div>
            <h:form styleClass="navigationForm">
                <h:link value="Go To Home" outcome="/signin" class="go-home-link"/>
                <h:commandButton value="User Account" action="#{con.returnToUserAccount()}"/>
                <h:commandButton value="Create Contract" action="#{con.createContract()}"/>
            </h:form>
            <div class="username">
                <img src="usericon2.png"/>
                <h:form styleClass="usernameForm">
                    <h:outputText value="#{con.namesOfLoggedInUser}"/>
                </h:form>
            </div>
        </nav>
        <div class="container">
            <h1 class="page-title">Your Contracts</h1>
            <f:view>
                <h:form styleClass="displayForm">
                    <h:messages  id="error-message" class="error-message" infoClass="info" errorClass="error" fatalClass="fatal"/>
                    <h:dataTable value="#{con.listOfContractsForOneStudent}" var="item" class="displayTable1">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Contract No"/>
                            </f:facet>
                            <h:outputText value="#{item.contractNumber}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Registration number"/>
                            </f:facet>
                            <h:outputText value="#{item.regNumber}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Due Amount"/>
                            </f:facet>
                            <h:outputText value="#{item.dueAmount}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Paid Amount"/>
                            </f:facet>
                            <h:outputText value="#{item.paidAmount}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Name On Reciept"/>
                            </f:facet>
                            <h:outputText value="#{item.nameOnReciept}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Amount/Installment"/>
                            </f:facet>
                            <h:outputText value="#{item.amountPerInstallment}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Creation Date"/>
                            </f:facet>
                            <h:outputText value="#{item.creationdate}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Status"/>
                            </f:facet>
                            <h:outputText value="#{item.status}"/>
                        </h:column>
                    </h:dataTable>
                </h:form>
            </f:view>
        </div>
        
    </h:body>
</html>

